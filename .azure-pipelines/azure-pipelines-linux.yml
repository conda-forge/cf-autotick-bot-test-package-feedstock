# This file was generated automatically from conda-smithy. To update this configuration,
# update the conda-forge.yml and/or the recipe/meta.yaml.
# -*- mode: yaml -*-

jobs:
- job: linux
  pool:
    name: conda-forge-internal-aarch64
    demands:
      - Agent.OS -equals Linux
      - Agent.OSArchitecture -equals ARM64
  strategy:
    matrix:
      linux_aarch64_python3.7.____cpython:
        CONFIG: linux_aarch64_python3.7.____cpython
        UPLOAD_PACKAGES: 'True'
        DOCKER_IMAGE: quay.io/condaforge/linux-anvil-aarch64
      linux_aarch64_python3.8.____cpython:
        CONFIG: linux_aarch64_python3.8.____cpython
        UPLOAD_PACKAGES: 'True'
        DOCKER_IMAGE: quay.io/condaforge/linux-anvil-aarch64
      linux_aarch64_python3.9.____cpython:
        CONFIG: linux_aarch64_python3.9.____cpython
        UPLOAD_PACKAGES: 'True'
        DOCKER_IMAGE: quay.io/condaforge/linux-anvil-aarch64
    maxParallel: 1
  timeoutInMinutes: 360
  workspace:
    clean: all

  steps:

  - script: |
        env
        ls /home/conda
        id
    displayName: Run docker build
    env:
      BINSTAR_TOKEN: $(BINSTAR_TOKEN)
      FEEDSTOCK_TOKEN: $(FEEDSTOCK_TOKEN)
      STAGING_BINSTAR_TOKEN: $(STAGING_BINSTAR_TOKEN)
